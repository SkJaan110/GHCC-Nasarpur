<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Tournament</title><link rel="stylesheet" href="style.css"></head><body>
<header><div class="brand"><div class="logo">SK</div><h1>SKScoringCric</h1></div></header>
<main class="card">
  <div><button class="btn" onclick="location.href='index.html'">Back Home</button></div>
  <h2 id="title">Tournament</h2>
  <div><button class="btn primary" id="addTeam">Create Team</button> <button class="btn" id="openTeams">Manage Teams Page</button> <button class="btn" id="openMatches">Manage Matches</button></div>
  <div id="teamList" style="margin-top:12px"></div>
</main>
<script src="script.js"></script>
<script>
(function(){ const tid = q('tid'); if(!tid) return location.href='index.html'; const t = getTournamentById(tid); document.getElementById('title').innerText = t.name; function render(){ const el=document.getElementById('teamList'); el.innerHTML=''; t.teams.forEach(team=>{ const div=document.createElement('div'); div.className='list-item'; div.innerHTML = `<div><strong>${team.name}</strong><div class='muted small'>${team.players.length} players</div></div><div><button class='btn' onclick="location.href='teams.html?tid=${tid}&team=${team.id}'">Open</button> <button class='btn' onclick="if(confirm('Delete team?')){ const data=loadData(); const tt=data.tournaments.find(x=>x.id===tid); tt.teams=tt.teams.filter(x=>x.id!=='${team.id}'); saveData(data); render(); }">Delete</button></div>`; el.appendChild(div); }); }
  document.getElementById('addTeam').addEventListener('click', ()=>{ const name=prompt('Team name'); if(!name) return; const short=prompt('Short code (GH etc)', name.slice(0,2).toUpperCase()); const data=loadData(); const ttt = data.tournaments.find(x=>x.id===tid); ttt.teams.push({id:newid('team'), name, short, players:[]}); saveData(data); render(); });
  document.getElementById('openTeams').addEventListener('click', ()=> location.href = 'teams.html?tid='+tid);
  document.getElementById('openMatches').addEventListener('click', ()=> location.href = 'matches.html?tid='+tid);
  render();
})();</script></body></html>